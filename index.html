<!DOCTYPE html>
<html lang="ja">
<meta charset="UTF-8">
<title>„Å≤„Çâ„Åå„Å™„Å≤„Çá„ÅÜ</title>
<style>
    * {
        margin: 0;
        padding: 0;
    }
    
    .card {
        position: relative;
        height: 100%;
        aspect-ratio: 1 / 1;
        transform: translate3d(0, 0, 0);
    }
    
    .card>div {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        line-height: 140%;
        aspect-ratio: 1 / 1;
        border-radius: 10%;
        text-align: center;
        vertical-align: middle;
        overflow: hidden;
        backface-visibility: hidden;
        writing-mode: horizontal-tb;
    }
    
    .character {
        font-size: 15vh;
        background-color: rgb(242, 243, 211);
    }
    
    .card[data-picture=false] .character {
        animation: anime2 1s;
        transform: rotateX(0deg);
    }
    
    .card[data-picture=true] .character {
        animation: anime1 1s;
        transform: rotateX(180deg);
    }
    
    .picture {
        font-size: 14vh;
        background-color: rgb(111, 207, 252);
    }
    
    .picture[data-character]::before {
        content: attr(data-character);
        top: 1vh;
        right: 1vh;
        text-align: center;
        vertical-align: middle;
        position: absolute;
        border: 1px single black;
        border-radius: 5vh;
        width: 5vh;
        height: 5vh;
        font-size: 4vh;
        line-height: 5vh;
        overflow: visible;
        writing-mode: horizontal-tb;
        background-color: rgba(255, 255, 255, 0.74);
    }
    
    .picture[data-string]::after {
        content: attr(data-string);
        bottom: 1vh;
        left: 1vh;
        text-align: left;
        vertical-align: middle;
        position: absolute;
        width: 100%;
        height: 2vh;
        padding: 0;
        font-size: 2vh;
        line-height: 2vh;
        overflow: visible;
        writing-mode: horizontal-tb;
    }
    
    .card[data-picture=false] .picture {
        animation: anime1 1s;
        transform: rotateX(180deg);
    }
    
    .card[data-picture=true] .picture {
        animation: anime2 1s;
        transform: rotateX(0deg);
    }
    
    @keyframes anime1 {
        0% {
            transform: perspective(500px) rotateX(0deg) translateZ(1px);
        }
        100% {
            transform: perspective(500px) rotateX(180deg) translateZ(0px);
        }
    }
    
    @keyframes anime2 {
        0% {
            transform: perspective(500px) rotateX(180deg) translateZ(0px);
        }
        100% {
            transform: perspective(500px) rotateX(360deg) translateZ(1px);
        }
    }
    
    table {
        position: relative;
        height: 100%;
    }
    
    #main {
        width: 100%;
        height: 100%;
        overflow-x: scroll;
        -ms-writing-mode: tb-rl;
        writing-mode: vertical-rl;
    }
    
    tr:nth-child(1) .picture {
        background-color: #f25648;
    }
    
    tr:nth-child(6) .picture {
        background-color: #f25648;
    }
    
    tr:nth-child(2) .picture {
        background-color: #00a0e6;
    }
    
    tr:nth-child(7) .picture {
        background-color: #00a0e6;
    }
    
    tr:nth-child(3) .picture {
        background-color: #00caff;
    }
    
    tr:nth-child(8) .picture {
        background-color: #00caff;
    }
    
    tr:nth-child(4) .picture {
        background-color: #f19a2a;
    }
    
    tr:nth-child(9) .picture {
        background-color: #f19a2a;
    }
    
    tr:nth-child(5) .picture {
        background-color: #f2b635;
    }
    
    tr:nth-child(10) .picture {
        background-color: #f2b635;
    }
</style>
<div id="main">
    <table id="aiueo">
    </table>
</div>
<script>
    const data = [
        [{
            c: "„ÅÇ",
            p: "ü¶Ü",
            s: "„ÅÇ„Å≤„Çã"
        }, {
            c: "„ÅÑ",
            p: "üê∂",
            s: "„ÅÑ„Å¨"
        }, {
            c: "„ÅÜ",
            p: "üê∞",
            s: "„ÅÜ„Åï„Åé"
        }, {
            c: "„Åà",
            p: "ü¶ê",
            s: "„Åà„Å≥"
        }, {
            c: "„Åä",
            p: "ü¶ú",
            s: "„Åä„ÅÜ„ÇÄ"
        }],
        [{
            c: "„Åã",
            p: "üê¢",
            s: "„Åã„ÇÅ"
        }, {
            c: "„Åç",
            p: "ü¶ä",
            s: "„Åç„Å§„Å≠"
        }, {
            c: "„Åè",
            p: "üêª",
            s: "„Åè„Åæ"
        }, {
            c: "„Åë",
            p: "üß∂",
            s: "„Åë„ÅÑ„Å®"
        }, {
            c: "„Åì",
            p: "ü¶á",
            s: "„Åì„ÅÜ„ÇÇ„Çä"
        }],
        [{
            c: "„Åï",
            p: "üêµ",
            s: "„Åï„Çã"
        }, {
            c: "„Åó",
            p: "ü¶ì",
            s: "„Åó„Åæ„ÅÜ„Åæ"
        }, {
            c: "„Åô",
            p: "üçâ",
            s: "„Åô„ÅÑ„Åã"
        }, {
            c: "„Åõ",
            p: "üçò",
            s: "„Åõ„Çì„Åπ„ÅÑ"
        }, {
            c: "„Åù",
            p: "üêò",
            s: "„Åû„ÅÜ"
        }],
        [{
            c: "„Åü",
            p: "üêô",
            s: "„Åü„Åì"
        }, {
            c: "„Å°",
            p: "üå∑",
            s: "„Å°„ÇÖ„Éº„Çä„Å£„Å∑"
        }, {
            c: "„Å§",
            p: "üåô",
            s: "„Å§„Åç"
        }, {
            c: "„Å¶",
            p: "üêû",
            s: "„Å¶„Çì„Å®„ÅÜ„ÇÄ„Åó"
        }, {
            c: "„Å®",
            p: "üêØ",
            s: "„Å®„Çâ"
        }],
        [{
            c: "„Å™",
            p: "üçÜ",
            s: "„Å™„Åô"
        }, {
            c: "„Å´",
            p: "üêî",
            s: "„Å´„Çè„Å®„Çä"
        }, {
            c: "„Å¨",
            p: "üß∏",
            s: "„Å¨„ÅÑ„Åê„Çã„Åø"
        }, {
            c: "„Å≠",
            p: "üê±",
            s: "„Å≠„Åì"
        }, {
            c: "„ÅÆ",
            p: "ü™ö",
            s: "„ÅÆ„Åì„Åé„Çä"
        }],
        [{
            c: "„ÅØ",
            p: "üêº",
            s: "„Å±„Çì„Å†"
        }, {
            c: "„Å≤",
            p: "üê§",
            s: "„Å≤„Çà„Åì"
        }, {
            c: "„Åµ",
            p: "üê∑",
            s: "„Å∂„Åü"
        }, {
            c: "„Å∏",
            p: "üêß",
            s: "„Å∫„Çì„Åé„Çì"
        }, {
            c: "„Åª",
            p: "üßπ",
            s: "„Åª„ÅÜ„Åç"
        }],
        [{
            c: "„Åæ",
            p: "ü¶£",
            s: "„Åæ„Çì„ÇÇ„Åô"
        }, {
            c: "„Åø",
            p: "üçä",
            s: "„Åø„Åã„Çì"
        }, {
            c: "„ÇÄ",
            p: "üîé",
            s: "„ÇÄ„Åó„ÇÅ„Åå„Å≠"
        }, {
            c: "„ÇÅ",
            p: "üëì",
            s: "„ÇÅ„Åå„Å≠"
        }, {
            c: "„ÇÇ",
            p: "üçë",
            s: "„ÇÇ„ÇÇ"
        }],
        [{
            c: "„ÇÑ",
            p: "üå¥",
            s: "„ÇÑ„Åó„ÅÆ„Åç"
        }, {
            c: "",
            p: "",
            s: ""
        }, {
            c: "„ÇÜ",
            p: "‚õÑ",
            s: "„ÇÜ„Åç„Å†„Çã„Åæ"
        }, {
            c: "",
            p: "",
            s: ""
        }, {
            c: "„Çà",
            p: "‚õµ",
            s: "„Çà„Å£„Å®"
        }],
        [{
            c: "„Çâ",
            p: "ü¶Å",
            s: "„Çâ„ÅÑ„Åä„Çì"
        }, {
            c: "„Çä",
            p: "ü¶í",
            s: "„Åç„Çä„Çì"
        }, {
            c: "„Çã",
            p: "üöó",
            s: "„Åè„Çã„Åæ"
        }, {
            c: "„Çå",
            p: "üçã",
            s: "„Çå„ÇÇ„Çì"
        }, {
            c: "„Çç",
            p: "üöÄ",
            s: "„Çç„Åë„Å£„Å®"
        }],
        [{
            c: "„Çè",
            p: "üêä",
            s: "„Çè„Å´"
        }, {
            c: "",
            p: "",
            s: ""
        }, {
            c: "„Çí",
            p: "üé®",
            s: "„Åà„Çí„Åã„Åè"
        }, {
            c: "",
            p: "",
            s: ""
        }, {
            c: "„Çì",
            p: "üçû",
            s: "„Å±„Çì"
        }]
    ];

    const tbl_aiueo = document.getElementById("aiueo");
    for (const l of data) {
        const r = document.createElement("tr");
        for (const item of l) {
            const cell = document.createElement("td");
            if (item.c.length > 0) {
                const card = document.createElement("div");
                card.className = "card";
                card.addEventListener("click", e => turn(card));
                const c = document.createElement("div");
                c.className = "character";
                c.textContent = item.c;
                const p = document.createElement("div");
                p.className = "picture";
                p.textContent = item.p;
                p.setAttribute("data-character", item.c);
                p.setAttribute("data-string", item.s);
                card.setAttribute("data-character", item.c);
                card.appendChild(c);
                card.appendChild(p);
                cell.appendChild(card);
            }
            r.appendChild(cell);
        }
        tbl_aiueo.appendChild(r);
    }
    const audio_ctx = new AudioContext();
    let audio_buffer_list = {};
    (async() => {
        for (const l of data) {
            for (const item of l) {
                if (item.c.length > 0) {
                    audio_buffer_list[item.c] = await fetch(`sound/${encodeURI(item.c)}.mp3`)
                        .then(response => response.arrayBuffer())
                        .then(response_buffer => audio_ctx.decodeAudioData(response_buffer))
                        .catch(error => null);
                }
            }
        }
    })();
    const turn = e => {
        if (e.getAttribute('data-picture') == "false") {
            e.setAttribute('data-picture', "true");
        } else {
            e.setAttribute('data-picture', "false");
            const c = e.getAttribute("data-character");
            if (audio_buffer_list[c]) {
                const audio = audio_ctx.createBufferSource();
                audio.buffer = audio_buffer_list[c];
                audio.connect(audio_ctx.destination);
                audio.start(0);
            }
        }
    };
</script>